Bug: Los checkboxes de selección de tareas no aparecen ni al “Seleccionar” ni al “Cancelar”.

Solución SIMPLE (render fijo + toggle de clase):

Renderizá SIEMPRE el checkbox en cada tarjeta (no lo insertes por JS).

<!-- dentro de cada .task-card -->
<input type="checkbox" class="task-select d-none" data-tarea-id="{{ tarea.id }}">


CSS mínimo (sin depender del contenedor):

.d-none { display: none !important; }


JS del toggle (idempotente y sin magia):

const btnSel    = document.getElementById('btn-seleccionar');
const btnCancel = document.getElementById('btn-cancelar-seleccion');

function updateCounts() {
  const n = document.querySelectorAll('.task-select:not(.d-none):checked').length;
  document.getElementById('btn-eliminar-count').textContent = n;
  document.getElementById('btn-asignar-count').textContent = n;
}

btnSel.onclick = () => {
  document.querySelectorAll('.task-select').forEach(cb => cb.classList.remove('d-none'));
  updateCounts();
};

btnCancel.onclick = () => {
  document.querySelectorAll('.task-select').forEach(cb => {
    cb.checked = false;
    cb.classList.add('d-none');
  });
  updateCounts();
};

document.addEventListener('change', (e) => {
  if (e.target.matches('.task-select')) updateCounts();
});


Botones/contadores
Asegurar spans:

<button id="btn-eliminar">Eliminar seleccionadas (<span id="btn-eliminar-count">0</span>)</button>
<button id="btn-asignar">Asignar usuarios (<span id="btn-asignar-count">0</span>)</button>


Verificación rápida que deben hacer ellos:

En consola:

document.querySelectorAll('.task-select').length > 0 (si es 0, no se están renderizando los inputs).

Después de tocar Seleccionar: getComputedStyle(document.querySelector('.task-select')).display debe ≠ 'none'.

Tocar Seleccionar ⇒ checkboxes visibles.

Tocar Cancelar selección ⇒ se ocultan y contador vuelve a 0.

Nota importante: No dependan de agregar .select-mode a un contenedor que quizás no coincide. Con el enfoque d-none el toggle es directo y robusto.

Criterios de aceptación:

Checkboxes visibles al instante al tocar Seleccionar.

Ocultan y resetean al tocar Cancelar selección.

Contadores se actualizan correctamente.